QA-TEST-NOTES
=============

1] switch the stream:

dabhinab@preprod512511:~$ p4 switch -Rn //anet/tasks/COLPCI_filtered/colpci_4480
Stream //anet/tasks/COLPCI_filtered/colpci_4480 not changed.

2] clear the claim:

dabhinab@preprod512511:~$ perl ~/bin/clear_claim.pl --claimid=33456985v6385 --stack PTEST1
Can't open perl script "/home/dabhinab/bin/clear_claim.pl": No such file or directory
dabhinab@preprod512511:~$ perl ~/dabhinab_streams/bin/clear_claim.pl --claimid=33456985v6385 --stack PTEST1
claimid: 33456985v6385 at /home/dabhinab/dabhinab_streams/bin/clear_claim.pl line 42.
stack :PTEST1 at /home/dabhinab/dabhinab_streams/bin/clear_claim.pl line 43.

--before--->PBS--->$VAR1 = {
  ERABATCHID => '6126040',
  PAYMENTBATCHID => '9033892',
  POSTED => '10/21/2019',
  TRANSFERTYPE => '1'
};

----->PBS--->$VAR1 = {
  ERABATCHID => '6126040',
  PAYMENTBATCHID => '9033892',
  POSTED => '10/21/2019',
  TRANSFERTYPE => '1'
};



3] void the transactions:

dabhinab@preprod512511:~/dabhinab_streams$ perl bin/postera.pl --masterroot PTEST1 --erabatchid 6126040 --claimid 33456985 --contextid 6385 --voidonly
voiding transactions upto paymentbatchid 9033892
dabhinab@preprod512511:~/dabhinab_streams$



4] update the batches:

dabhinab@preprod512511:~/dabhinab_streams$ sql++
\u 63sql++ version 18p1.  \h for help, for more search 'sql++' in the wiki.  \q or ^D to exit.
athena1@ptest1 > \u 6385

athena6385@ptest40 > update erabatch set status = 'CREATED' ,POSTED ='',POSTEDBY = '' where id in (6126040);
1 row updated in 0 seconds.

athena6385@ptest40 > update erarecord set matched = '' ,matchedby = '',applied= '' ,appliedby = '',CHARGEID = '' ,TRANSFERTYPE= '',PATIENTINSURANCEIDNUMBER = '' ,SUBSCRIBERINSURANCEIDNUMBER = '' ,CORRECTEDINSURANCEIDNUMBER = '',claimid = '' where erabatchid in (6126040) and claimid = 33456985;
2 rows updated in 0 seconds.
dabhinab@preprod512511:~/dabhinab_streams$commit;
Commit
dabhinab@preprod512511:~/dabhinab_streams$ 



5] run the pre-process script

dabhinab@preprod512511:~/dabhinab_streams$ perl prod/scripts/app/practice/preprocess_erabatches.pl PTEST40 ATHENA6385 --erabatchids 6126040
Starting prod/scripts/app/practice/preprocess_erabatches.pl; practice time is 2025/09/10 03:52:08
Starting garbage collection.
Starting prematching.
Match ERA Batch 6126040R6385:
pre-matching... done.  Marking as pre-matched... done.
Starting preposting.
Post ERA Batch 6126040R6385: Found paymentbatch with id 9033892 for erabatch 6126040R6385...
check for new apply queue...
matching again, for good measure... pre-posting... done.  Marking as pre-posted... done.
dabhinab@preprod512511:~/dabhinab_streams$
